<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, interactive-widget=overlays-content">
  <title>Yokobo AR Chat Cat (Pseudo AR)</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

  <!-- AR Scene -->
  <a-scene
    id="ar-scene"
    embedded
    vr-mode-ui="enabled: false"
    renderer="colorManagement: true; physicallyCorrectLights: true"
    arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false; sourceWidth: 1280; sourceHeight: 960; displayWidth: 1280; displayHeight: 960; canvasWidth: 1280; canvasHeight: 960; maxDetectionRate: 30;"
  >
    <a-assets>
      <a-asset-item id="cat-gltf" src="./models/cat2.glb"></a-asset-item>
    </a-assets>
    <!--
      Original pattern marker for displaying the 3D model.
      „Éû„Éº„Ç´„ÉºÁîªÂÉè (markers/design.png) „Å®ÁµÑ„ÅøÂêà„Çè„Åõ„Å¶ÈÖçÁΩÆ„Åô„ÇãÊÉ≥ÂÆö„ÄÇ
    -->
    <a-marker
      id="design-marker"
      type="pattern"
      url="./markers/design.ptt"
      smooth="true"
      smoothCount="12"
      smoothTolerance="0.02"
      smoothThreshold="6"
    >
      <a-entity
        id="cat-entity"
        gltf-model="#cat-gltf"
        position="0 0 0"
        rotation="0 0 0"
        scale="0.6 0.6 0.6"
      ></a-entity>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>

  <!-- UI -->
  <div id="hud">
    <!--
      „Ç™„É™„Ç∏„Éä„É´„Éû„Éº„Ç´„ÉºÁîªÂÉè„ÅÆÂèÇËÄÉË°®Á§∫„ÄÇ
      ÁîªÈù¢‰∏ä„ÅÆÂèÇËÄÉÈÖçÁΩÆ„ÄÇÂêçÂà∫/Á¥ôÈù¢„Åß„ÅØ„Éû„Éº„Ç´„Éº„Å®„Åó„Å¶Âà©Áî®„Åô„ÇãÊÉ≥ÂÆö„ÄÇ
    -->
    <img
      id="design-icon"
      src="./markers/design.png"
      width="32"
      height="32"
      alt="„Ç™„É™„Ç∏„Éä„É´„Éû„Éº„Ç´„ÉºÁîªÂÉè"
    />
    <div id="chatbar">
      <input id="q" type="text" placeholder="Áå´„Å´Ë≥™Âïè„Åó„Å¶„Åø„Å¶‚Ä¶" autocomplete="off" />
      <button id="send">ÈÄÅ‰ø°</button>
    </div>

    <div id="stage">
      <div id="bubble" class="hidden"></div>
      <div id="fx" class="hidden"></div>
      <div id="flowers" class="hidden" aria-hidden="true"></div>
      <div id="face" class="hidden"></div>
      <button id="new-chat" type="button">
        <span class="paw" aria-hidden="true">üêæ</span>
        <span class="label">New</span>
      </button>
    </div>

    <div id="panel">
      <div id="log"></div>
    </div>
  </div>


  <script type="module" src="./main.js"></script>
</body>
</html>
